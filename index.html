<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ñ–∏–Ω–∏—à–Ω–æ–π —Å–º–µ—Å–∏</title>
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
    }

    :root {
      --bg-color: #f9f9f9;
      --container-bg: #fff;
      --text-color: #000000;
      --button-bg: #eaecee;
      --button-text-color: #000000;
      --button-hover: #d5d8dc;
      --result-bg: #eaecee;
      --border-color: #ddd;
      --error-color: #f44336;
    }

    [data-theme="dark"] {
      --bg-color: #121212;
      --container-bg: #1e1e1e;
      --text-color: #e0e0e0;
      --button-bg: #566573;
      --button-text-color: #ffffff;
      --button-hover: #808b96;
      --result-bg: #566573;
      --border-color: #444;
      --error-color: #ef9a9a;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      transition: background-color 0.3s, color 0.3s;
    }

    .container {
      background-color: var(--container-bg);
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      padding: 30px;
      max-width: 600px;
      width: 100%;
      transition: all 0.3s;
    }

    h1 {
      font-size: 24px;
      margin-bottom: 25px;
      text-align: center;
    }

    .input-group {
      margin-bottom: 15px;
    }

    label {
      font-weight: 600;
      margin-bottom: 6px;
      display: block;
    }

    input[type="number"] {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid var(--border-color);
      border-radius: 6px;
      font-size: 16px;
      background-color: var(--container-bg);
      color: var(--text-color);
    }

    button {
      width: 100%;
      background-color: var(--button-bg);
      color: var(--button-text-color);
      border: none;
      padding: 12px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      margin-bottom: 15px;
    }

    button:hover {
      background-color: var(--button-hover);
    }

    .result {
      margin-top: 20px;
      padding: 20px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background-color: var(--result-bg);
      font-size: 16px;
    }

    .theme-toggle button {
      width: auto;
      padding: 6px 12px;
      font-size: 14px;
      background-color: transparent;
      color: var(--button-text-color);
      border: 1px solid var(--border-color);
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="theme-toggle">
      <button onclick="toggleTheme()">üåì –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É</button>
    </div>
    <h1>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ñ–∏–Ω–∏—à–Ω–æ–π —Å–º–µ—Å–∏</h1>

    <div class="input-group">
      <label for="cement">–¶–µ–º–µ–Ω—Ç (–∫–≥):</label>
      <input type="number" id="cement" value="5" step="0.1" min="0.1">
    </div>

    <div class="input-group">
      <label for="sandRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è –ø–µ—Å–∫–∞:</label>
      <input type="number" id="sandRatio" step="0.01">
    </div>

    <div class="input-group">
      <label for="limeRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è –∏–∑–≤–µ—Å—Ç–∏:</label>
      <input type="number" id="limeRatio" step="0.01">
    </div>

    <div class="input-group">
      <label for="kaolinRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è –∫–∞–æ–ª–∏–Ω–∞:</label>
      <input type="number" id="kaolinRatio" step="0.01">
    </div>

    <div class="input-group">
      <label for="latexRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è SikaLatex (–ª):</label>
      <input type="number" id="latexRatio" step="0.01">
    </div>

    <div class="input-group">
      <label for="waterRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è –≤–æ–¥—ã (–ª):</label>
      <input type="number" id="waterRatio" step="0.01">
    </div>

    <div class="input-group">
      <label for="plasticizerRatio">–ü—Ä–æ–ø–æ—Ä—Ü–∏—è —Å—É–ø–µ—Ä–ø–ª–∞—Å—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ (–≥):</label>
      <input type="number" id="plasticizerRatio" step="0.1">
    </div>

    <button onclick="calculateMix()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–∞–≤</button>
    <button onclick="saveRatios()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏</button>

    <div class="result" id="results">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–æ—Å—Ç–∞–≤"</div>
  </div>

  <script>
    const ratioFields = [
      "sandRatio",
      "limeRatio",
      "kaolinRatio",
      "latexRatio",
      "waterRatio",
      "plasticizerRatio"
    ];

    function loadRatios() {
      ratioFields.forEach(id => {
        const stored = localStorage.getItem(id);
        if (stored !== null) {
          document.getElementById(id).value = stored;
        } else {
          const defaults = {
            sandRatio: 1.6,
            limeRatio: 0.18,
            kaolinRatio: 0.11,
            latexRatio: 0.2,
            waterRatio: 1.0,
            plasticizerRatio: 6.5
          };
          document.getElementById(id).value = defaults[id];
        }
      });
    }

    function saveRatios() {
      ratioFields.forEach(id => {
        const value = document.getElementById(id).value;
        localStorage.setItem(id, value);
      });
      alert("–ü—Ä–æ–ø–æ—Ä—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!");
    }

    function calculateMix() {
      const cement = parseFloat(document.getElementById('cement').value);
      if (isNaN(cement) || cement <= 0) {
        document.getElementById('results').innerText = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–º–µ–Ω—Ç–∞!";
        return;
      }

      const ratios = {};
      ratioFields.forEach(id => {
        ratios[id] = parseFloat(document.getElementById(id).value);
      });

      const results = {
        "–ü–µ—Å–æ–∫ (–∫–≥)": cement * ratios.sandRatio,
        "–ì–∞—à—ë–Ω–∞—è –∏–∑–≤–µ—Å—Ç—å (–∫–≥)": cement * ratios.limeRatio,
        "–ö–∞–æ–ª–∏–Ω (–∫–≥)": cement * ratios.kaolinRatio,
        "SikaLatex (–ª)": cement * ratios.latexRatio,
        "–í–æ–¥–∞ (–ª)": cement * ratios.waterRatio,
        "–°—É–ø–µ—Ä–ø–ª–∞—Å—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–≥)": cement * ratios.plasticizerRatio
      };

      let html = `<strong>–°–æ—Å—Ç–∞–≤ –Ω–∞ ${cement} –∫–≥ —Ü–µ–º–µ–Ω—Ç–∞:</strong><ul>`;
      for (const [key, value] of Object.entries(results)) {
        html += `<li><strong>${key}</strong>: ${value.toFixed(2)}</li>`;
      }
      html += '</ul>';

      document.getElementById('results').innerHTML = html;
    }

    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      document.documentElement.setAttribute('data-theme', current === 'dark' ? 'light' : 'dark');
    }

    loadRatios();
    calculateMix();
  </script>
</body>
</html>
